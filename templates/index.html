
<style>
#hero-ripple {
  position: relative;
  overflow: hidden;
  min-height: 320px;
  display: grid;
  place-items: center;
  padding: 3rem 1rem;
  border-radius: 16px;
  margin: 1rem auto;
  max-width: 1100px;
  background: radial-gradient(800px 800px at var(--mx,50%) var(--my,40%),
              rgba(150, 90, 255, 0.30),
              rgba(90, 45, 180, 0.22) 40%,
              rgba(50, 20, 120, 0.12) 60%,
              rgba(20, 10, 50, 0.00) 75%),
              linear-gradient(160deg, #1a1529 0%, #120f22 100%);
  transition: background-position 0.05s ease-out;
  box-shadow: 0 20px 60px rgba(40, 0, 80, 0.35);
}
#hero-ripple .hero-inner { text-align: center; color: #f2e9ff; }
#hero-ripple h1 { font-size: clamp(1.8rem, 3vw, 3rem); line-height: 1.15; margin: 0 0 0.5rem 0; }
#hero-ripple p { opacity: 0.9; margin: 0.2rem 0 1.1rem 0; }
#hero-ripple .cta {
  display: inline-block; padding: 0.75rem 1.1rem; border-radius: 12px;
  background: #8b5cf6; color: white; text-decoration: none; font-weight: 600;
  filter: drop-shadow(0 6px 18px rgba(120, 50, 220, 0.35));
}
#hero-ripple .cta:hover { background: #7c3aed; }
@media (prefers-reduced-motion: reduce) { #hero-ripple { transition: none; } }
</style>
{% extends 'base.html' %}

<section id="hero-ripple" aria-label="PlanPals hero">
  <div class="hero-inner">
    <h1>PlanPals</h1>
    <p>Plan smarter with your crew â€” see who can make it before you pick the day.</p>
    <a class="cta" href="{{ url_for('create') }}">Create Event</a>
  </div>
</section>
<script>
(function() {
  const hero = document.getElementById('hero-ripple');
  if (!hero) return;
  function setPos(e) {
    const rect = hero.getBoundingClientRect();
    const x = (e.clientX - rect.left) / rect.width * 100;
    const y = (e.clientY - rect.top) / rect.height * 100;
    hero.style.setProperty('--mx', x + '%');
    hero.style.setProperty('--my', y + '%');
  }
  hero.addEventListener('mousemove', setPos);
  hero.addEventListener('touchmove', function(ev) {
    if (ev.touches && ev.touches[0]) {
      const t = ev.touches[0];
      setPos({ clientX: t.clientX, clientY: t.clientY });
    }
  }, {passive: true});
})();
</script>

{% block content %}
  <section class="section">
    <div class="section-head">
      <h2>Upcoming events</h2>
      {% if current_user.is_authenticated %}
        <a class="btn small" href="{{ url_for('create_event') }}">+ New event</a>
      {% endif %}
    </div>

    {% if events %}
      <div class="grid">
        {% for e in events %}
          <article class="card event">
            <div class="date-badge">
              <span class="m">{{ e.date.strftime('%b') }}</span>
              <span class="d">{{ e.date.strftime('%d') }}</span>
            </div>
            <div class="card-body">
              <h3>{{ e.title }}</h3>
              <p class="muted">{{ e.date.strftime('%A, %B %d, %Y') }}</p>
              {% if e.description %}<p>{{ e.description }}</p>{% endif %}
            </div>
          </article>
        {% endfor %}
      </div>
    {% else %}
      <div class="empty">
        <h3>No events yet</h3>
        <p>Create your first event and invite your friends.</p>
        {% if current_user.is_authenticated %}
          <a class="btn" href="{{ url_for('create_event') }}">Create event</a>
        {% else %}
          <a class="btn" href="{{ url_for('register') }}">Sign up to create one</a>
        {% endif %}
      </div>
    {% endif %}
  </section>
{% endblock %}
