
{% extends "base.html" %}
{% block content %}
<section class="container">
  <h2>Your Profile</h2>

  <form method="post" class="card" style="margin-bottom:1rem">
    <label>Display Name</label>
    <input name="name" value="{{ current_user.name }}" required />
    <button class="btn">Save</button>
  </form>

  <div class="card">
    <h3>Your Events</h3>
    {% if my_events %}
      <ul class="event-list">
        {% for e in my_events %}
          <li class="event-item">
            <div>
              <strong>{{ e.title }}</strong><br/>
              <span class="muted">{{ e.date.strftime('%A, %B %d, %Y') }}</span>
            </div>
            <div class="actions">
              <a class="btn small ghost" href="{{ url_for('edit_event', event_id=e.id) }}">Edit</a>
              <form method="post" action="{{ url_for('delete_event', event_id=e.id) }}" onsubmit="return confirm('Delete this event?');" style="display:inline">
                <button class="btn small danger">Delete</button>
              </form>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="muted">You haven't created any events yet.</p>
    {% endif %}
  </div>
</section>
{% endblock %}
