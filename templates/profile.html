{% extends "base.html" %}
{% block content %}
<h1 class="h1">Your profile</h1>

<h2>Your events</h2>
<div class="grid">
  {% for ev in my_events %}
    <div class="card">
      <div class="row between vcenter">
        <h3>{{ ev.title }}</h3>
        <div class="row gap">
          <a class="btn tiny ghost" href="{{ url_for('edit_event', event_id=ev.id) }}">Edit</a>
          <form method="post" action="{{ url_for('delete_event', event_id=ev.id) }}" onsubmit="return confirm('Delete this event?')">
            <button class="btn tiny danger" type="submit">Delete</button>
          </form>
        </div>
      </div>
      <p class="muted">{{ ev.date }}</p>
      <a class="btn tiny" href="{{ url_for('event_detail', event_id=ev.id) }}">Open</a>
    </div>
  {% else %}
    <p class="muted">You haven't created any events yet.</p>
  {% endfor %}
</div>

<h2 class="mt">Events you're in</h2>
<ul>
  {% for r in my_rsvps %}
    <li><a href="{{ url_for('event_detail', event_id=r.event_id) }}">{{ r.event.title }}</a> â€” <span class="muted">{{ r.status }}</span></li>
  {% else %}
    <li class="muted">No RSVPs yet.</li>
  {% endfor %}
</ul>
{% endblock %}
