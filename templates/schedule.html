{% extends 'base.html' %}
{% block content %}
<section class="section">
  <h2>Your schedule (busy blocks)</h2>
  <form method="post" class="form grid2">
    <label>Busy from<input type="datetime-local" name="start_dt" required></label>
    <label>Busy until<input type="datetime-local" name="end_dt" required></label>
    <div class="full"><button class="btn">Add busy time</button></div>
  </form>
  <div class="section">
    {% if blocks %}
      <table class="table">
        <thead><tr><th>Start</th><th>End</th></tr></thead>
        <tbody>
          {% for b in blocks %}
          <tr><td>{{ b.start_dt.strftime('%Y-%m-%d %H:%M') }}</td><td>{{ b.end_dt.strftime('%Y-%m-%d %H:%M') }}</td></tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p class="muted">No busy times yet â€” add some so PlanPals can calculate availability.</p>
    {% endif %}
  </div>
</section>
{% endblock %}
