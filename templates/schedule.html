
{% extends "base.html" %}
{% block content %}
<section class="container">
  <h2>Update Schedule (Unavailable times)</h2>
  <form method="post" class="card" style="margin-bottom:1rem">
    <div class="row">
      <div class="col">
        <label>Day of week</label>
        <select name="day" required>
          <option value="0">Monday</option>
          <option value="1">Tuesday</option>
          <option value="2">Wednesday</option>
          <option value="3">Thursday</option>
          <option value="4">Friday</option>
          <option value="5">Saturday</option>
          <option value="6">Sunday</option>
        </select>
      </div>
      <div class="col">
        <label>Unavailable from</label>
        <input type="time" name="start" required />
      </div>
      <div class="col">
        <label>to</label>
        <input type="time" name="end" required />
      </div>
    </div>
    <button class="btn">Add</button>
  </form>

  <div class="card">
    <h3>Your unavailable slots</h3>
    {% if slots %}
      <ul class="event-list">
        {% for s in slots %}
          <li class="event-item">
            <div>
              {{ ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'][s.day] }}: {{ s.start_time.strftime('%H:%M') }}â€“{{ s.end_time.strftime('%H:%M') }}
            </div>
            <form method="post" action="{{ url_for('delete_slot', slot_id=s.id) }}">
              <button class="btn small danger">Delete</button>
            </form>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="muted">No unavailable times yet.</p>
    {% endif %}
  </div>
</section>
{% endblock %}
